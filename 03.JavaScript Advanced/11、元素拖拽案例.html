<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¼ æ ‡æ‹–æ‹½æ¡ˆä¾‹</title>
    <!--æ•´ä¸ªé¼ æ ‡æ‹–æ‹½å…ƒç´ çš„æ€è·¯è¿‡ç¨‹æ¢³ç†ï¼š
    1ã€åˆ›å»ºå…ƒç´ 
    2ã€ç»™å…ƒç´ è®¾ç½®å®šä½ï¼ˆå›ºå®šå®šä½ï¼Œç›¸å¯¹äºè§†å£å®šä½ï¼‰
    3ã€é¼ æ ‡æŒ‰ä¸‹ï¼Œå…ƒç´ å¼€å§‹æ‹–æ‹½ï¼š
    ï¼ˆ1ï¼‰å…³é”®æ˜¯è®¡ç®—å¥½å…ƒç´ çš„ä½ç½®ï¼šæ‹–æ‹½è¿‡ç¨‹å°±æ˜¯å…ƒç´ ä»ä¸€ä¸ªä½ç½®åˆ°äº†å¦ä¸€ä¸ªä½ç½®ï¼é¼ æ ‡ä½ç½®éšæ„åœ¨å…ƒç´ ä¸Šéƒ½å¯æ‹–åŠ¨å™¢ï¼ä¸æ˜¯åªèƒ½åœ¨å…ƒç´ å·¦ä¸Šè§’çš„åŸç‚¹æ‹–åŠ¨ï¼
    å…ƒç´ ç§»åŠ¨åçš„Xä½ç½®= é¼ æ ‡åœ¨è§†å£çš„å·¦ä¾§è·ç¦»-é¼ æ ‡åœ¨å…ƒç´ ä¸Šçš„å·¦ä¾§è·ç¦»
    å…ƒç´ ç§»åŠ¨åçš„Yä½ç½®= é¼ æ ‡åœ¨è§†å£çš„é¡¶éƒ¨è·ç¦»-é¼ æ ‡åœ¨å…ƒç´ ä¸Šçš„é¡¶éƒ¨è·ç¦»
    ï¼ˆ2ï¼‰ä¸´ç•Œå€¼ï¼šå³å…ƒç´ å¯ä»¥æ‹–åŠ¨åˆ°è§†å£å†…ï¼ä¸èƒ½è®©é¼ æ ‡æŠŠå…ƒç´ æ‹–åŠ¨åˆ°é¡µé¢å¤–ï¼Œä¸ç„¶ç”¨æˆ·ä¹Ÿä¸èƒ½çœ‹åˆ°æ•´ä¸ªå…ƒç´ äº†
    ï¼ˆ3ï¼‰å°é—®é¢˜ï¼šé¼ æ ‡å¿«é€Ÿæ‹–åŠ¨ï¼Œå…ƒç´ ä¸ºä»€ä¹ˆè·Ÿä¸ä¸Šé¼ æ ‡æ‹–åŠ¨å‘¢ï¼Ÿå› ä¸ºç»‘å®šæ‹–åŠ¨äº‹ä»¶çš„å…ƒç´ æ˜¯è¯¥å…ƒç´ ï¼Œæ‰€ä»¥é¼ æ ‡å¿«é€Ÿæ‹–åŠ¨åï¼Œå¯èƒ½é¼ æ ‡å·²ä¸åœ¨è¯¥å…ƒç´ ä¸Šäº†ï¼æ‰€ä»¥ç›´æ¥å¸®æ‹–åŠ¨äº‹ä»¶ç»‘å®šåˆ°documenté¡µé¢ä¸Šï¼Œæ— è®ºæ€ä¹ˆæ‹–åŠ¨ï¼Œéƒ½åœ¨è¯¥é¡µé¢ä¸Šæ‹–åŠ¨ï¼
    4ã€é¼ æ ‡æŠ¬èµ·ï¼Œå…ƒç´ ç»“æŸæ‹–æ‹½-->
    <style>
        #box{
            position: fixed;
            left:100px;
            top:100px;
            width:200px;
            height:200px;
            background-color: aqua;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="box"></div>
    <script>
        (function(){
            var box = document.querySelector('#box');
            //åªæœ‰é¼ æ ‡æŒ‰é”®æŒ‰ä¸‹å»ï¼Œæ‰æœ‰æ‹–åŠ¨
            box.onmousedown = function(e){
                //è·å–é¼ æ ‡åœ¨å…ƒç´ ä¸Šçš„ä½ç½®
                var tLeft = e.offsetX;
                var tTop = e.offsetY;
                //è¡Œå†…æ ·å¼
                this.style.background = '#900';
                //ç›‘å¬é¼ æ ‡ç§»åŠ¨äº‹ä»¶ï¼šå…ƒç´ è·Ÿç€é¼ æ ‡èµ°
                //ğŸ”º3ã€é¼ æ ‡å¿«é€Ÿæ‹–åŠ¨ï¼Œå…ƒç´ ä¸ºä»€ä¹ˆè·Ÿä¸ä¸Šé¼ æ ‡æ‹–åŠ¨å‘¢ï¼Ÿ
                //åŸå› åˆ†æï¼šå› ä¸ºç§»åŠ¨äº‹ä»¶åªåœ¨å…ƒç´ èº«ä¸Šï¼Œæ‰€ä»¥ä¼šå‡ºç°è·Ÿä¸ä¸Šï¼
                //è§£å†³ï¼šè¦ç»™documentç»‘å®šé¼ æ ‡ç§»åŠ¨äº‹ä»¶ï¼šæ— è®ºå¦‚ä½•éƒ½ä¸èƒ½ç¦»å¼€æ–‡æ¡£ï¼ˆé¡µé¢ï¼‰
                document.onmousemove = function(e){
                    // alert('èµ°èµ°èµ°');
                    //è·å–é¼ æ ‡çš„ä½ç½®ï¼šè·å–è§†å£ä½ç½®ï¼ˆå› ä¸ºè¯¥å…ƒç´ å›ºå®šå®šä½å…ƒç´ å‚ç…§è§†å£ä½ç½®ï¼Œæ‰€ä»¥é¼ æ ‡ä½ç½®ä¹Ÿå°±ç›¸å½“äºå…ƒç´ çš„ä½ç½®ï¼‰
                    //ğŸ”º1ã€æ ¹æ®é¼ æ ‡åœ¨è§†å£ä¸Šçš„ä½ç½®-é¼ æ ‡åœ¨å…ƒç´ ä¸Šçš„ä½ç½®ï¼Œè®¡ç®—å…ƒç´ çš„ä½ç½®
                    var left = e.clientX - tLeft;
                    var top = e.clientY - tTop;
                    //2ã€é™åˆ¶å…ƒç´ çš„ä½ç½®ï¼šminã€max
                    //ä¸´ç•Œå€¼minï¼š0
                    //ä¸´ç•Œå€¼maxï¼šè§†å£å®½åº¦/é«˜åº¦-å…ƒç´ å®½åº¦/é«˜åº¦
                    if(left < 0){
                        left=0;
                    }else if(left > document.documentElement.clientWidth - box.offsetWidth){
                        left = document.documentElement.clientWidth - box.offsetWidth;
                    }
                    if(top < 0){
                        top=0;
                    }else if(top > document.documentElement.clientHeight - box.offsetHeight){
                        top = document.documentElement.clientHeight - box.offsetHeight;
                    }
                    //è®¾ç½®boxå…ƒç´ çš„ä½ç½®
                    box.style.left = left+'px';
                    box.style.top = top+'px';
                   
                };
            };
            
            

            //åªæœ‰é¼ æ ‡æŒ‰é”®æŠ¬èµ·ï¼Œåœæ­¢æ‹–åŠ¨
            box.onmouseup = function(){
                this.style.background = '';
                 //ğŸ”º2ã€ä¸ºä»€ä¹ˆæŒ‰é”®æŠ¬èµ·äº†ï¼Œå…ƒç´ è¿˜è·Ÿç€é¼ æ ‡æŒ‰é”®èµ°å‘¢ï¼Ÿå› ä¸ºé¼ æ ‡æŒ‰é”®æŒ‰ä¸‹æ—¶ç»‘å®šäº†äº‹ä»¶ç›‘å¬ï¼Œæ‰€ä»¥ä¼šä¸€ç›´ç›‘å¬è¯¥äº‹ä»¶
                //è§£é™¤äº‹ä»¶ç›‘å¬
                document.onmousemove = null;
            };

           
        })();
        

    </script>
</body>
</html>